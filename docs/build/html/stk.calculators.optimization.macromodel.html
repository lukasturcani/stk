

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>stk.calculators.optimization.macromodel module &mdash; stk  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> stk
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">stk.calculators.optimization.macromodel module</a></li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">stk</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>stk.calculators.optimization.macromodel module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/stk.calculators.optimization.macromodel.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-stk.calculators.optimization.macromodel">
<span id="stk-calculators-optimization-macromodel-module"></span><h1>stk.calculators.optimization.macromodel module<a class="headerlink" href="#module-stk.calculators.optimization.macromodel" title="Permalink to this headline">¶</a></h1>
<p>Defines MacroModel optimizers.</p>
<dl class="exception">
<dt id="stk.calculators.optimization.macromodel.MacroModelConversionError">
<em class="property">exception </em><code class="descclassname">stk.calculators.optimization.macromodel.</code><code class="descname">MacroModelConversionError</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelConversionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel.MacroModelConversionError.__init__">
<code class="descname">__init__</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelConversionError.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel.MacroModelConversionError.args">
<code class="descname">args</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelConversionError.args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelConversionError.with_traceback">
<code class="descname">with_traceback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelConversionError.with_traceback" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceField">
<em class="property">class </em><code class="descclassname">stk.calculators.optimization.macromodel.</code><code class="descname">MacroModelForceField</code><span class="sig-paren">(</span><em>macromodel_path</em>, <em>output_dir=None</em>, <em>restricted=False</em>, <em>timeout=None</em>, <em>force_field=16</em>, <em>maximum_iterations=2500</em>, <em>minimum_gradient=0.05</em>, <em>use_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceField" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stk.calculators.optimization.macromodel._MacroModel" title="stk.calculators.optimization.macromodel._MacroModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">stk.calculators.optimization.macromodel._MacroModel</span></code></a></p>
<p>Uses MacroModel force fields to optimize molecules.</p>
<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceField.restricted">
<code class="descname">restricted</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceField.restricted" title="Permalink to this definition">¶</a></dt>
<dd><p>If <code class="docutils literal notranslate"><span class="pre">False</span></code> then all bonds are optimized, not just the ones
created during macromolecular assembly. If <code class="docutils literal notranslate"><span class="pre">True</span></code> then an
optimization is performed only on the bonds added during
molecular assembly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceField.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>macromodel_path</em>, <em>output_dir=None</em>, <em>restricted=False</em>, <em>timeout=None</em>, <em>force_field=16</em>, <em>maximum_iterations=2500</em>, <em>minimum_gradient=0.05</em>, <em>use_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceField.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes a <a class="reference internal" href="#stk.calculators.optimization.macromodel.MacroModelForceField" title="stk.calculators.optimization.macromodel.MacroModelForceField"><code class="xref py py-class docutils literal notranslate"><span class="pre">MacroModelForceField</span></code></a> object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>macromodel_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The full path of the Schrodinger suite within the user’s
machine. For example, on a Linux machine this may be
something like <code class="docutils literal notranslate"><span class="pre">'/opt/schrodinger2017-2'</span></code>.</li>
<li><strong>output_dir</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, optional) – The name of the directory into which files generated during
the optimization are written, if <code class="docutils literal notranslate"><span class="pre">None</span></code> then
<code class="xref py py-func docutils literal notranslate"><span class="pre">uuid.uuid4()</span></code> is used.</li>
<li><strong>restricted</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – If <code class="docutils literal notranslate"><span class="pre">False</span></code> then all bonds are optimized, not just the
ones created during macromolecular assembly. If <code class="docutils literal notranslate"><span class="pre">True</span></code>
then an optimization is performed only on the bonds added
during molecular assembly.</li>
<li><strong>timeout</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, optional) – The amount in seconds the optimization is allowed to run
before being terminated. <code class="docutils literal notranslate"><span class="pre">None</span></code> means there is no
timeout.</li>
<li><strong>force_field</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – The number of the force field to be used.</li>
<li><strong>maximum_iterations</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – The maximum number of iterations done during the
optimization.</li>
<li><strong>minimum_gradient</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, optional) – The gradient at which optimization is stopped.</li>
<li><strong>use_cache</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – If <code class="docutils literal notranslate"><span class="pre">True</span></code> <a class="reference internal" href="#stk.calculators.optimization.macromodel.MacroModelForceField.optimize" title="stk.calculators.optimization.macromodel.MacroModelForceField.optimize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">optimize()</span></code></a> will not run twice on the same
molecule and conformer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceField.com_line">
<em class="property">static </em><code class="descname">com_line</code><span class="sig-paren">(</span><em>arg1</em>, <em>arg2</em>, <em>arg3</em>, <em>arg4</em>, <em>arg5</em>, <em>arg6</em>, <em>arg7</em>, <em>arg8</em>, <em>arg9</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceField.com_line" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceField.convert_maegz_to_mae">
<code class="descname">convert_maegz_to_mae</code><span class="sig-paren">(</span><em>mol</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceField.convert_maegz_to_mae" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a <code class="docutils literal notranslate"><span class="pre">.maegz</span></code> file to a <code class="docutils literal notranslate"><span class="pre">.mae</span></code> file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule being optimized. The <code class="docutils literal notranslate"><span class="pre">.maegz</span></code> file holding
its optimized structure is converted to a <code class="docutils literal notranslate"><span class="pre">.mae</span></code> file.
Both versions are kept.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>None</strong></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceField.create_mae">
<code class="descname">create_mae</code><span class="sig-paren">(</span><em>mol</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceField.create_mae" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the <code class="docutils literal notranslate"><span class="pre">.mae</span></code> file holding the molecule to be optimized.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule which is to be optimized. Its molecular
structure file is converted to a <code class="docutils literal notranslate"><span class="pre">.mae</span></code> file. The
original file is also kept.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The full path of the newly created <code class="docutils literal notranslate"><span class="pre">.mae</span></code> file.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceField.fix_bond_angles">
<code class="descname">fix_bond_angles</code><span class="sig-paren">(</span><em>mol</em>, <em>fix_block</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceField.fix_bond_angles" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds lines fixing bond angles to the <code class="docutils literal notranslate"><span class="pre">.com</span></code> body.</p>
<p>All bond angles of the molecule are fixed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule to be optimized.</li>
<li><strong>fix_block</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – A string holding fix commands in the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A string holding fix commands in the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceField.fix_distances">
<code class="descname">fix_distances</code><span class="sig-paren">(</span><em>mol</em>, <em>fix_block</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceField.fix_distances" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds lines fixing bond distances to <code class="docutils literal notranslate"><span class="pre">.com</span></code> body.</p>
<p>Only bond distances which do not involve bonds created during
assembly are fixed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule to be optimized.</li>
<li><strong>fix_block</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – A string holding fix commands in the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A string holding fix commands in the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceField.fix_params">
<code class="descname">fix_params</code><span class="sig-paren">(</span><em>mol</em>, <em>com</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceField.fix_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Fix bond distances and angles in <code class="docutils literal notranslate"><span class="pre">.com</span></code> file.</p>
<p>For each bond distance, bond angle and torisional angle that
does not involve a bond created during assembly a “FX” command
is added to the body of the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file.</p>
<p>These lines replace the filler line in the main string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule which is to be optimized.</li>
<li><strong>com</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The body of the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file which is to have fix commands
added.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A string holding the body of the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file with
instructions to fix the various bond distances and angles
as described in the docstring.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceField.fix_torsional_angles">
<code class="descname">fix_torsional_angles</code><span class="sig-paren">(</span><em>mol</em>, <em>fix_block</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceField.fix_torsional_angles" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds lines fixing torsional bond angles to the <code class="docutils literal notranslate"><span class="pre">.com</span></code> body.</p>
<p>All torsional angles of the molecule are fixed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule to be optimized.</li>
<li><strong>fix_block</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – A string holding fix commands in the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A string holding fix commands in the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceField.generate_com">
<code class="descname">generate_com</code><span class="sig-paren">(</span><em>mol</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceField.generate_com" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a <code class="docutils literal notranslate"><span class="pre">.com</span></code> file for a MacroModel optimization.</p>
<p>The created <code class="docutils literal notranslate"><span class="pre">.com</span></code> file fixes all bond parameters which were
not added during assembly. This means all bond distances, bond
angles and torsional angles are fixed, except for cases where
it involves a bond added during assembly of the macromolecule.</p>
<p>This fixing is implemented by creating a <code class="docutils literal notranslate"><span class="pre">.com</span></code> file with
various “FX” commands written within its body.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule which is to be optimized.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>None</strong></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceField.kill_bmin">
<code class="descname">kill_bmin</code><span class="sig-paren">(</span><em>mol</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceField.kill_bmin" title="Permalink to this definition">¶</a></dt>
<dd><p>Kills bmin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule being optimized.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>None</strong></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceField.license_found">
<code class="descname">license_found</code><span class="sig-paren">(</span><em>output</em>, <em>mol=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceField.license_found" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks to see if minimization failed due to a missing license.</p>
<p>The user can be notified of this in one of two ways. Sometimes
the output of the submission contains the message informing
that the license was not found and in other cases it will be
the log file. This function checks both of these sources for
this message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>output</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The output from submitting the minimization of the
structure to bmin.</li>
<li><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>, optional) – The molecule being optimized. If the <code class="docutils literal notranslate"><span class="pre">.log</span></code> file is not
to be checked, the default <code class="docutils literal notranslate"><span class="pre">None</span></code> should be used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">True</span></code> if the license was found. <code class="docutils literal notranslate"><span class="pre">False</span></code> if the
minimization did not occur due to a missing license.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceField.optimize">
<code class="descname">optimize</code><span class="sig-paren">(</span><em>mol</em>, <em>conformer=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceField.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimizes a molecule.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule to be optimized.</li>
<li><strong>conformer</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – The conformer to use.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>None</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceField.run_bmin">
<code class="descname">run_bmin</code><span class="sig-paren">(</span><em>mol</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceField.run_bmin" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs an optimization using bmin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule being optimized.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>None</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="#stk.calculators.optimization.macromodel.MacroModelOptimizationError" title="stk.calculators.optimization.macromodel.MacroModelOptimizationError"><code class="xref py py-class docutils literal notranslate"><span class="pre">MacroModelOptimizationError</span></code></a> – If the optimization failed for some unspecified.</li>
<li><a class="reference internal" href="#stk.calculators.optimization.macromodel.MacroModelForceFieldError" title="stk.calculators.optimization.macromodel.MacroModelForceFieldError"><code class="xref py py-class docutils literal notranslate"><span class="pre">MacroModelForceFieldError</span></code></a> – If the force field could not be used with the molecule.</li>
<li><a class="reference internal" href="#stk.calculators.optimization.macromodel.MacroModelLewisStructureError" title="stk.calculators.optimization.macromodel.MacroModelLewisStructureError"><code class="xref py py-class docutils literal notranslate"><span class="pre">MacroModelLewisStructureError</span></code></a> – If Lewis structure of the molecule had issues.</li>
<li><a class="reference internal" href="#stk.calculators.optimization.macromodel.MacroModelPathError" title="stk.calculators.optimization.macromodel.MacroModelPathError"><code class="xref py py-class docutils literal notranslate"><span class="pre">MacroModelPathError</span></code></a> – If an invalid MacroModel path is being used.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceField.structconvert">
<code class="descname">structconvert</code><span class="sig-paren">(</span><em>iname</em>, <em>oname</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceField.structconvert" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses structconvert to change file type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>iname</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The name of the input file.</li>
<li><strong>oname</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The name of the output file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>None</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceField.wait_for_file">
<code class="descname">wait_for_file</code><span class="sig-paren">(</span><em>filename</em>, <em>timeout=10</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceField.wait_for_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Stalls until a given file exists or <cite>timeout</cite> expires.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The full path of the file which should be waited for.</li>
<li><strong>timeout</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, optional) – The number of seconds before the function stops waiting and
returns.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>None</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceFieldError">
<em class="property">exception </em><code class="descclassname">stk.calculators.optimization.macromodel.</code><code class="descname">MacroModelForceFieldError</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceFieldError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceFieldError.__init__">
<code class="descname">__init__</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceFieldError.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceFieldError.args">
<code class="descname">args</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceFieldError.args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelForceFieldError.with_traceback">
<code class="descname">with_traceback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelForceFieldError.with_traceback" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="stk.calculators.optimization.macromodel.MacroModelLewisStructureError">
<em class="property">exception </em><code class="descclassname">stk.calculators.optimization.macromodel.</code><code class="descname">MacroModelLewisStructureError</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelLewisStructureError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel.MacroModelLewisStructureError.__init__">
<code class="descname">__init__</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelLewisStructureError.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel.MacroModelLewisStructureError.args">
<code class="descname">args</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelLewisStructureError.args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelLewisStructureError.with_traceback">
<code class="descname">with_traceback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelLewisStructureError.with_traceback" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD">
<em class="property">class </em><code class="descclassname">stk.calculators.optimization.macromodel.</code><code class="descname">MacroModelMD</code><span class="sig-paren">(</span><em>macromodel_path</em>, <em>output_dir=None</em>, <em>timeout=None</em>, <em>force_field=16</em>, <em>temperature=300</em>, <em>conformers=50</em>, <em>time_step=1</em>, <em>eq_time=10</em>, <em>simulation_time=200</em>, <em>maximum_iterations=2500</em>, <em>minimum_gradient=0.05</em>, <em>restricted_bonds=None</em>, <em>restricted_bond_angles=None</em>, <em>restricted_torsional_angles=None</em>, <em>use_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stk.calculators.optimization.macromodel._MacroModel" title="stk.calculators.optimization.macromodel._MacroModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">stk.calculators.optimization.macromodel._MacroModel</span></code></a></p>
<p>Runs a MD conformer search using MacroModel.</p>
<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.temperature">
<code class="descname">temperature</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.temperature" title="Permalink to this definition">¶</a></dt>
<dd><p>The temperature in Kelvin at which the MD is run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.conformers">
<code class="descname">conformers</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.conformers" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of conformers sampled and optimized from the MD.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.time_step">
<code class="descname">time_step</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.time_step" title="Permalink to this definition">¶</a></dt>
<dd><p>The time step in <code class="docutils literal notranslate"><span class="pre">fs</span></code> for the MD.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.eq_time">
<code class="descname">eq_time</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.eq_time" title="Permalink to this definition">¶</a></dt>
<dd><p>The equilibriation time in <code class="docutils literal notranslate"><span class="pre">ps</span></code> before the MD is run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.simulation_time">
<code class="descname">simulation_time</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.simulation_time" title="Permalink to this definition">¶</a></dt>
<dd><p>The simulation time in <code class="docutils literal notranslate"><span class="pre">ps</span></code> of the MD.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.restricted_bonds">
<code class="descname">restricted_bonds</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.restricted_bonds" title="Permalink to this definition">¶</a></dt>
<dd><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code> of the form</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">restricted_bonds</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nb">frozenset</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span>
    <span class="nb">frozenset</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">14</span><span class="p">)),</span>
    <span class="nb">frozenset</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Where each <code class="xref py py-class docutils literal notranslate"><span class="pre">frozenset</span></code> defines which bonds should have
a fixed length via the atom ids of atoms in the bond.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.restricted_bond_angles">
<code class="descname">restricted_bond_angles</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.restricted_bond_angles" title="Permalink to this definition">¶</a></dt>
<dd><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code> of the form</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">restricted_bonds</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nb">frozenset</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">)),</span>
    <span class="nb">frozenset</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">7</span><span class="p">)),</span>
    <span class="nb">frozenset</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Where each <code class="xref py py-class docutils literal notranslate"><span class="pre">frozenset</span></code> defines which bond angles should
have a fixed size via the atom ids of atoms in the bond
angle.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.restricted_torsional_angles">
<code class="descname">restricted_torsional_angles</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.restricted_torsional_angles" title="Permalink to this definition">¶</a></dt>
<dd><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code> of the form</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">restricted_bonds</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nb">frozenset</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">3</span><span class="p">)),</span>
    <span class="nb">frozenset</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">)),</span>
    <span class="nb">frozenset</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Where each <code class="xref py py-class docutils literal notranslate"><span class="pre">frozenset</span></code> defines which torsional angles
should have a fixed size via the atom ids of atoms in the
torsional angle.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>macromodel_path</em>, <em>output_dir=None</em>, <em>timeout=None</em>, <em>force_field=16</em>, <em>temperature=300</em>, <em>conformers=50</em>, <em>time_step=1</em>, <em>eq_time=10</em>, <em>simulation_time=200</em>, <em>maximum_iterations=2500</em>, <em>minimum_gradient=0.05</em>, <em>restricted_bonds=None</em>, <em>restricted_bond_angles=None</em>, <em>restricted_torsional_angles=None</em>, <em>use_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs a MD conformer search on <cite>mol</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>macromodel_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The full path of the Schrodinger suite within the user’s
machine. For example, on a Linux machine this may be
something like <code class="docutils literal notranslate"><span class="pre">'/opt/schrodinger2017-2'</span></code>.</li>
<li><strong>output_dir</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, optional) – The name of the directory into which files generated during
the optimization are written, if <code class="docutils literal notranslate"><span class="pre">None</span></code> then
<code class="xref py py-func docutils literal notranslate"><span class="pre">uuid.uuid4()</span></code> is used.</li>
<li><strong>timeout</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, optional) – The amount in seconds the MD is allowed to run before
being terminated. <code class="docutils literal notranslate"><span class="pre">None</span></code> means there is no timeout.</li>
<li><strong>force_field</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – The number of the force field to be used.</li>
<li><strong>temperature</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, optional) – The temperature in Kelvin at which the MD is run.</li>
<li><strong>conformers'</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – The number of conformers sampled and optimized from the MD.</li>
<li><strong>time_step</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, optional) – The time step in <code class="docutils literal notranslate"><span class="pre">fs</span></code> for the MD.</li>
<li><strong>eq_time</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, optional) – The equilibriation time in <code class="docutils literal notranslate"><span class="pre">ps</span></code> before the MD is run.</li>
<li><strong>simulation_time</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, optional) – The simulation time in <code class="docutils literal notranslate"><span class="pre">ps</span></code> of the MD.</li>
<li><strong>maximum_iterations</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – The maximum number of iterations done during the
optimization.</li>
<li><strong>minimum_gradient</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, optional) – The gradient at which optimization is stopped.</li>
<li><strong>restricted_bonds</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code>, optional) – <p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code> of the form</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">restricted_bonds</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nb">frozenset</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span>
    <span class="nb">frozenset</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">14</span><span class="p">)),</span>
    <span class="nb">frozenset</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Where each <code class="xref py py-class docutils literal notranslate"><span class="pre">frozenset</span></code> defines which bonds should
have a fixed length via the atom ids of atoms in the bond.</p>
</li>
<li><strong>restricted_bond_angles</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code>, optional) – <p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code> of the form</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">restricted_bonds</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nb">frozenset</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">)),</span>
    <span class="nb">frozenset</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">7</span><span class="p">)),</span>
    <span class="nb">frozenset</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Where each <code class="xref py py-class docutils literal notranslate"><span class="pre">frozenset</span></code> defines which bond angles
should have a fixed size via the atom ids of atoms in the
bond angle.</p>
</li>
<li><strong>restricted_torsional_angles</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code>, optional) – <p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">set</span></code> of the form</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">restricted_bonds</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nb">frozenset</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">3</span><span class="p">)),</span>
    <span class="nb">frozenset</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">4</span><span class="p">)),</span>
    <span class="nb">frozenset</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">))</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Where each <code class="xref py py-class docutils literal notranslate"><span class="pre">frozenset</span></code> defines which torsional
angles should have a fixed size via the atom ids of atoms
in the torsional angle.</p>
</li>
<li><strong>use_cache</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – If <code class="docutils literal notranslate"><span class="pre">True</span></code> <a class="reference internal" href="#stk.calculators.optimization.macromodel.MacroModelMD.optimize" title="stk.calculators.optimization.macromodel.MacroModelMD.optimize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">optimize()</span></code></a> will not run twice on the same
molecule and conformer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.com_line">
<em class="property">static </em><code class="descname">com_line</code><span class="sig-paren">(</span><em>arg1</em>, <em>arg2</em>, <em>arg3</em>, <em>arg4</em>, <em>arg5</em>, <em>arg6</em>, <em>arg7</em>, <em>arg8</em>, <em>arg9</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.com_line" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.convert_maegz_to_mae">
<code class="descname">convert_maegz_to_mae</code><span class="sig-paren">(</span><em>mol</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.convert_maegz_to_mae" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a <code class="docutils literal notranslate"><span class="pre">.maegz</span></code> file to a <code class="docutils literal notranslate"><span class="pre">.mae</span></code> file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule being optimized. The <code class="docutils literal notranslate"><span class="pre">.maegz</span></code> file holding
its optimized structure is converted to a <code class="docutils literal notranslate"><span class="pre">.mae</span></code> file.
Both versions are kept.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>None</strong></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.create_mae">
<code class="descname">create_mae</code><span class="sig-paren">(</span><em>mol</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.create_mae" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the <code class="docutils literal notranslate"><span class="pre">.mae</span></code> file holding the molecule to be optimized.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule which is to be optimized. Its molecular
structure file is converted to a <code class="docutils literal notranslate"><span class="pre">.mae</span></code> file. The
original file is also kept.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The full path of the newly created <code class="docutils literal notranslate"><span class="pre">.mae</span></code> file.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.fix_bond_angles">
<code class="descname">fix_bond_angles</code><span class="sig-paren">(</span><em>mol</em>, <em>fix_block</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.fix_bond_angles" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds lines fixing bond angles to the <code class="docutils literal notranslate"><span class="pre">.com</span></code> body.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule to be optimized.</li>
<li><strong>fix_block</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – A string holding fix commands in the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A string holding fix commands in the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.fix_distances">
<code class="descname">fix_distances</code><span class="sig-paren">(</span><em>mol</em>, <em>fix_block</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.fix_distances" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds lines fixing bond distances to <code class="docutils literal notranslate"><span class="pre">.com</span></code> body.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule to be optimized.</li>
<li><strong>fix_block</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – A string holding fix commands in the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A string holding fix commands in the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.fix_params">
<code class="descname">fix_params</code><span class="sig-paren">(</span><em>mol</em>, <em>com</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.fix_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Fix bond distances and angles in <code class="docutils literal notranslate"><span class="pre">.com</span></code> file.</p>
<p>For each bond distance, bond angle and torisional angle that
does not involve a bond created during assembly a “FX” command
is added to the body of the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file.</p>
<p>These lines replace the filler line in the main string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule which is to be optimized.</li>
<li><strong>com</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The body of the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file which is to have fix commands
added.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A string holding the body of the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file with
instructions to fix the various bond distances and angles
as described in the docstring.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.fix_torsional_angles">
<code class="descname">fix_torsional_angles</code><span class="sig-paren">(</span><em>mol</em>, <em>fix_block</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.fix_torsional_angles" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds lines fixing torsional bond angles to the <code class="docutils literal notranslate"><span class="pre">.com</span></code> body.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule to be optimized.</li>
<li><strong>fix_block</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – A string holding fix commands in the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A string holding fix commands in the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.generate_com">
<code class="descname">generate_com</code><span class="sig-paren">(</span><em>mol</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.generate_com" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a <code class="docutils literal notranslate"><span class="pre">.com</span></code> file for a MacroModel optimization.</p>
<p>The created <code class="docutils literal notranslate"><span class="pre">.com</span></code> file fixes all bond parameters which were
not added during assembly. This means all bond distances, bond
angles and torsional angles are fixed, except for cases where
it involves a bond added during assembly of the macromolecule.</p>
<p>This fixing is implemented by creating a <code class="docutils literal notranslate"><span class="pre">.com</span></code> file with
various “FX” commands written within its body.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule which is to be optimized.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>None</strong></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.kill_bmin">
<code class="descname">kill_bmin</code><span class="sig-paren">(</span><em>mol</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.kill_bmin" title="Permalink to this definition">¶</a></dt>
<dd><p>Kills bmin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule being optimized.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>None</strong></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.license_found">
<code class="descname">license_found</code><span class="sig-paren">(</span><em>output</em>, <em>mol=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.license_found" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks to see if minimization failed due to a missing license.</p>
<p>The user can be notified of this in one of two ways. Sometimes
the output of the submission contains the message informing
that the license was not found and in other cases it will be
the log file. This function checks both of these sources for
this message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>output</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The output from submitting the minimization of the
structure to bmin.</li>
<li><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>, optional) – The molecule being optimized. If the <code class="docutils literal notranslate"><span class="pre">.log</span></code> file is not
to be checked, the default <code class="docutils literal notranslate"><span class="pre">None</span></code> should be used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">True</span></code> if the license was found. <code class="docutils literal notranslate"><span class="pre">False</span></code> if the
minimization did not occur due to a missing license.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.optimize">
<code class="descname">optimize</code><span class="sig-paren">(</span><em>mol</em>, <em>conformer=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimizes a molecule.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule to be optimized.</li>
<li><strong>conformer</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – The conformer to use.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>None</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.run_bmin">
<code class="descname">run_bmin</code><span class="sig-paren">(</span><em>mol</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.run_bmin" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs an optimization using bmin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule being optimized.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>None</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="#stk.calculators.optimization.macromodel.MacroModelOptimizationError" title="stk.calculators.optimization.macromodel.MacroModelOptimizationError"><code class="xref py py-class docutils literal notranslate"><span class="pre">MacroModelOptimizationError</span></code></a> – If the optimization failed for some unspecified.</li>
<li><a class="reference internal" href="#stk.calculators.optimization.macromodel.MacroModelForceFieldError" title="stk.calculators.optimization.macromodel.MacroModelForceFieldError"><code class="xref py py-class docutils literal notranslate"><span class="pre">MacroModelForceFieldError</span></code></a> – If the force field could not be used with the molecule.</li>
<li><a class="reference internal" href="#stk.calculators.optimization.macromodel.MacroModelLewisStructureError" title="stk.calculators.optimization.macromodel.MacroModelLewisStructureError"><code class="xref py py-class docutils literal notranslate"><span class="pre">MacroModelLewisStructureError</span></code></a> – If Lewis structure of the molecule had issues.</li>
<li><a class="reference internal" href="#stk.calculators.optimization.macromodel.MacroModelPathError" title="stk.calculators.optimization.macromodel.MacroModelPathError"><code class="xref py py-class docutils literal notranslate"><span class="pre">MacroModelPathError</span></code></a> – If an invalid MacroModel path is being used.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.structconvert">
<code class="descname">structconvert</code><span class="sig-paren">(</span><em>iname</em>, <em>oname</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.structconvert" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses structconvert to change file type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>iname</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The name of the input file.</li>
<li><strong>oname</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The name of the output file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>None</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelMD.wait_for_file">
<code class="descname">wait_for_file</code><span class="sig-paren">(</span><em>filename</em>, <em>timeout=10</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelMD.wait_for_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Stalls until a given file exists or <cite>timeout</cite> expires.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The full path of the file which should be waited for.</li>
<li><strong>timeout</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, optional) – The number of seconds before the function stops waiting and
returns.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>None</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="stk.calculators.optimization.macromodel.MacroModelOptimizationError">
<em class="property">exception </em><code class="descclassname">stk.calculators.optimization.macromodel.</code><code class="descname">MacroModelOptimizationError</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelOptimizationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel.MacroModelOptimizationError.__init__">
<code class="descname">__init__</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelOptimizationError.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel.MacroModelOptimizationError.args">
<code class="descname">args</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelOptimizationError.args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelOptimizationError.with_traceback">
<code class="descname">with_traceback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelOptimizationError.with_traceback" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="stk.calculators.optimization.macromodel.MacroModelPathError">
<em class="property">exception </em><code class="descclassname">stk.calculators.optimization.macromodel.</code><code class="descname">MacroModelPathError</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelPathError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel.MacroModelPathError.__init__">
<code class="descname">__init__</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelPathError.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel.MacroModelPathError.args">
<code class="descname">args</code><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelPathError.args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel.MacroModelPathError.with_traceback">
<code class="descname">with_traceback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel.MacroModelPathError.with_traceback" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="stk.calculators.optimization.macromodel._MacroModel">
<em class="property">class </em><code class="descclassname">stk.calculators.optimization.macromodel.</code><code class="descname">_MacroModel</code><span class="sig-paren">(</span><em>macromodel_path</em>, <em>output_dir</em>, <em>timeout</em>, <em>force_field</em>, <em>maximum_iterations</em>, <em>minimum_gradient</em>, <em>use_cache</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel._MacroModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="stk.calculators.optimization.optimizers.html#stk.calculators.optimization.optimizers.Optimizer" title="stk.calculators.optimization.optimizers.Optimizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">stk.calculators.optimization.optimizers.Optimizer</span></code></a></p>
<p>Base class for MacroModel optimzers.</p>
<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel._MacroModel.macromodel_path">
<code class="descname">macromodel_path</code><a class="headerlink" href="#stk.calculators.optimization.macromodel._MacroModel.macromodel_path" title="Permalink to this definition">¶</a></dt>
<dd><p>The full path of the Schrodinger suite within the user’s
machine. For example, on a Linux machine this may be something
like <code class="docutils literal notranslate"><span class="pre">'/opt/schrodinger2017-2'</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel._MacroModel.output_dir">
<code class="descname">output_dir</code><a class="headerlink" href="#stk.calculators.optimization.macromodel._MacroModel.output_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the directory into which files generated during
the optimization are written, if <code class="docutils literal notranslate"><span class="pre">None</span></code> then
<code class="xref py py-func docutils literal notranslate"><span class="pre">uuid.uuid4()</span></code> is used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel._MacroModel.force_field">
<code class="descname">force_field</code><a class="headerlink" href="#stk.calculators.optimization.macromodel._MacroModel.force_field" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of the force field to be used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel._MacroModel.maximum_iterations">
<code class="descname">maximum_iterations</code><a class="headerlink" href="#stk.calculators.optimization.macromodel._MacroModel.maximum_iterations" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum number of iterations done during the optimization.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel._MacroModel.minimum_gradient">
<code class="descname">minimum_gradient</code><a class="headerlink" href="#stk.calculators.optimization.macromodel._MacroModel.minimum_gradient" title="Permalink to this definition">¶</a></dt>
<dd><p>The gradient at which optimization is stopped.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="stk.calculators.optimization.macromodel._MacroModel.timeout">
<code class="descname">timeout</code><a class="headerlink" href="#stk.calculators.optimization.macromodel._MacroModel.timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>The amount in seconds the MD is allowed to run before
being terminated. <code class="docutils literal notranslate"><span class="pre">None</span></code> means there is no timeout.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel._MacroModel.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>macromodel_path</em>, <em>output_dir</em>, <em>timeout</em>, <em>force_field</em>, <em>maximum_iterations</em>, <em>minimum_gradient</em>, <em>use_cache</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel._MacroModel.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initializes a <a class="reference internal" href="#stk.calculators.optimization.macromodel._MacroModel" title="stk.calculators.optimization.macromodel._MacroModel"><code class="xref py py-class docutils literal notranslate"><span class="pre">_MacroModel</span></code></a> instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>macromodel_path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The full path of the Schrodinger suite within the user’s
machine. For example, on a Linux machine this may be
something like <code class="docutils literal notranslate"><span class="pre">'/opt/schrodinger2017-2'</span></code>.</li>
<li><strong>output_dir</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, optional) – The name of the directory into which files generated during
the optimization are written, if <code class="docutils literal notranslate"><span class="pre">None</span></code> then
<code class="xref py py-func docutils literal notranslate"><span class="pre">uuid.uuid4()</span></code> is used.</li>
<li><strong>timeout</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, optional) – The amount in seconds the optimization is allowed to run
before being terminated. <code class="docutils literal notranslate"><span class="pre">None</span></code> means there is no
timeout.</li>
<li><strong>force_field</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – The number of the force field to be used.</li>
<li><strong>maximum_iterations</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – The maximum number of iterations done during the
optimization.</li>
<li><strong>minimum_gradient</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, optional) – The gradient at which optimization is stopped.</li>
<li><strong>use_cache</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – If <code class="docutils literal notranslate"><span class="pre">True</span></code> <a class="reference internal" href="#stk.calculators.optimization.macromodel._MacroModel.optimize" title="stk.calculators.optimization.macromodel._MacroModel.optimize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">optimize()</span></code></a> will not run twice on the same
molecule and conformer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="stk.calculators.optimization.macromodel._MacroModel.com_line">
<em class="property">static </em><code class="descname">com_line</code><span class="sig-paren">(</span><em>arg1</em>, <em>arg2</em>, <em>arg3</em>, <em>arg4</em>, <em>arg5</em>, <em>arg6</em>, <em>arg7</em>, <em>arg8</em>, <em>arg9</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel._MacroModel.com_line" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel._MacroModel.convert_maegz_to_mae">
<code class="descname">convert_maegz_to_mae</code><span class="sig-paren">(</span><em>mol</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel._MacroModel.convert_maegz_to_mae" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a <code class="docutils literal notranslate"><span class="pre">.maegz</span></code> file to a <code class="docutils literal notranslate"><span class="pre">.mae</span></code> file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule being optimized. The <code class="docutils literal notranslate"><span class="pre">.maegz</span></code> file holding
its optimized structure is converted to a <code class="docutils literal notranslate"><span class="pre">.mae</span></code> file.
Both versions are kept.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>None</strong></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel._MacroModel.create_mae">
<code class="descname">create_mae</code><span class="sig-paren">(</span><em>mol</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel._MacroModel.create_mae" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the <code class="docutils literal notranslate"><span class="pre">.mae</span></code> file holding the molecule to be optimized.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule which is to be optimized. Its molecular
structure file is converted to a <code class="docutils literal notranslate"><span class="pre">.mae</span></code> file. The
original file is also kept.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The full path of the newly created <code class="docutils literal notranslate"><span class="pre">.mae</span></code> file.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel._MacroModel.fix_params">
<code class="descname">fix_params</code><span class="sig-paren">(</span><em>mol</em>, <em>com</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel._MacroModel.fix_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Fix bond distances and angles in <code class="docutils literal notranslate"><span class="pre">.com</span></code> file.</p>
<p>For each bond distance, bond angle and torisional angle that
does not involve a bond created during assembly a “FX” command
is added to the body of the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file.</p>
<p>These lines replace the filler line in the main string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule which is to be optimized.</li>
<li><strong>com</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The body of the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file which is to have fix commands
added.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A string holding the body of the <code class="docutils literal notranslate"><span class="pre">.com</span></code> file with
instructions to fix the various bond distances and angles
as described in the docstring.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel._MacroModel.kill_bmin">
<code class="descname">kill_bmin</code><span class="sig-paren">(</span><em>mol</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel._MacroModel.kill_bmin" title="Permalink to this definition">¶</a></dt>
<dd><p>Kills bmin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule being optimized.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>None</strong></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel._MacroModel.license_found">
<code class="descname">license_found</code><span class="sig-paren">(</span><em>output</em>, <em>mol=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel._MacroModel.license_found" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks to see if minimization failed due to a missing license.</p>
<p>The user can be notified of this in one of two ways. Sometimes
the output of the submission contains the message informing
that the license was not found and in other cases it will be
the log file. This function checks both of these sources for
this message.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>output</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The output from submitting the minimization of the
structure to bmin.</li>
<li><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>, optional) – The molecule being optimized. If the <code class="docutils literal notranslate"><span class="pre">.log</span></code> file is not
to be checked, the default <code class="docutils literal notranslate"><span class="pre">None</span></code> should be used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">True</span></code> if the license was found. <code class="docutils literal notranslate"><span class="pre">False</span></code> if the
minimization did not occur due to a missing license.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel._MacroModel.optimize">
<code class="descname">optimize</code><span class="sig-paren">(</span><em>mol</em>, <em>conformer=-1</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel._MacroModel.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimizes a molecule.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule to be optimized.</li>
<li><strong>conformer</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – The conformer to use.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>None</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel._MacroModel.run_bmin">
<code class="descname">run_bmin</code><span class="sig-paren">(</span><em>mol</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel._MacroModel.run_bmin" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs an optimization using bmin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>mol</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecule being optimized.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>None</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><a class="reference internal" href="#stk.calculators.optimization.macromodel.MacroModelOptimizationError" title="stk.calculators.optimization.macromodel.MacroModelOptimizationError"><code class="xref py py-class docutils literal notranslate"><span class="pre">MacroModelOptimizationError</span></code></a> – If the optimization failed for some unspecified.</li>
<li><a class="reference internal" href="#stk.calculators.optimization.macromodel.MacroModelForceFieldError" title="stk.calculators.optimization.macromodel.MacroModelForceFieldError"><code class="xref py py-class docutils literal notranslate"><span class="pre">MacroModelForceFieldError</span></code></a> – If the force field could not be used with the molecule.</li>
<li><a class="reference internal" href="#stk.calculators.optimization.macromodel.MacroModelLewisStructureError" title="stk.calculators.optimization.macromodel.MacroModelLewisStructureError"><code class="xref py py-class docutils literal notranslate"><span class="pre">MacroModelLewisStructureError</span></code></a> – If Lewis structure of the molecule had issues.</li>
<li><a class="reference internal" href="#stk.calculators.optimization.macromodel.MacroModelPathError" title="stk.calculators.optimization.macromodel.MacroModelPathError"><code class="xref py py-class docutils literal notranslate"><span class="pre">MacroModelPathError</span></code></a> – If an invalid MacroModel path is being used.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel._MacroModel.structconvert">
<code class="descname">structconvert</code><span class="sig-paren">(</span><em>iname</em>, <em>oname</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel._MacroModel.structconvert" title="Permalink to this definition">¶</a></dt>
<dd><p>Uses structconvert to change file type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>iname</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The name of the input file.</li>
<li><strong>oname</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The name of the output file.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>None</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="stk.calculators.optimization.macromodel._MacroModel.wait_for_file">
<code class="descname">wait_for_file</code><span class="sig-paren">(</span><em>filename</em>, <em>timeout=10</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.calculators.optimization.macromodel._MacroModel.wait_for_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Stalls until a given file exists or <cite>timeout</cite> expires.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filename</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The full path of the file which should be waited for.</li>
<li><strong>timeout</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code> or <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, optional) – The number of seconds before the function stops waiting and
returns.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>None</strong></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Lukas Turcani

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>